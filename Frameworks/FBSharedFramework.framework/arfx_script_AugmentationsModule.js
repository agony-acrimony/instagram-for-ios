var AugmentationsModule=function(t,e,o,i){"use strict";function n(t,e,n,a){var o,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;0<=s;s--)(o=t[s])&&(r=(i<3?o(r):3<i?o(e,n,r):o(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}var a;(a=t.AugmentationInstanceState||(t.AugmentationInstanceState={}))["INSTANTIATED"]="INSTANTIATED",a["REMOVING"]="REMOVING",a["REMOVED"]="REMOVED";var r;t.AugmentationInstanceState.INSTANTIATED,t.AugmentationInstanceState.REMOVING,t.AugmentationInstanceState.REMOVED;(r=t.AugmentationState||(t.AugmentationState={}))["DOWNLOADING"]="DOWNLOADING",r["DOWNLOADED"]="DOWNLOADED",r["FAILED"]="FAILED";t.AugmentationState.DOWNLOADING,t.AugmentationState.DOWNLOADED,t.AugmentationState.FAILED;var s=e.getNativeModule("Augmentations"),u=(Object.defineProperty(c.prototype,"state",{get:function(){return void 0===this._stateSignal&&(this._stateSignal=new i.StringSignal(s.newAugInstanceStateSignal(this._ref))),this._stateSignal},enumerable:!0,configurable:!0}),c.prototype.remove=function(){return i.eventSourceToPromise(s.delAugInstance(this._ref))},c=n([e.capability("remoteAugmentations"),e.availableIn(e.DocumentType.Effect)],c));function c(t){this._ref=t}var g=(Object.defineProperty(f.prototype,"state",{get:function(){return void 0===this._stateSignal&&(this._stateSignal=new i.StringSignal(s.newAugStateSignal(this._effectId))),this._stateSignal},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"downloadProgress",{get:function(){return void 0===this._downloadProgressSignal&&(this._downloadProgressSignal=new i.ScalarSignal(s.newAugProgressSignal(this._effectId))),this._downloadProgressSignal},enumerable:!0,configurable:!0}),f.prototype.instantiate=function(t){return i.eventSourceToPromise(s.newAugInstance(this._effectId,t)).then(function(t){return new u(t)})},f=n([e.capability("remoteAugmentations"),e.availableIn(e.DocumentType.Effect)],f));function f(t){this._effectId=t}var l=(m.prototype.instantiate=function(t,e){return o.isEnabled?o.isMaster?i.eventSourceToPromise(s.instantiate(t,e)):new Promise(function(t,e){e("Augmentations are only available for master effect")}):new Promise(function(t,e){e("Augmentations are not available on this platform")})},m.prototype.remove=function(t){return o.isEnabled?o.isMaster?i.eventSourceToPromise(s.remove(t)):new Promise(function(t,e){e("Augmentations are only available for master effect")}):new Promise(function(t,e){e("Augmentations are not available on this platform")})},m.prototype.getConfig=function(){return o.isEnabled?i.eventSourceToPromise(s.getConfig()):new Promise(function(t,e){e("Augmentations are not available on this platform")})},m.prototype.requestAugmentation=function(t){if(!o.isEnabled)return new Promise(function(t,e){e("Augmentations are not available on this platform")});if(!o.isMaster)return new Promise(function(t,e){e("Augmentations are only available for master effect")});var e=t["effectID"];if(void 0===e||"string"!=typeof e)return new Promise(function(t,e){e("'effectID' parameter must be provided to requestAugmentation call")});void 0===this._augs&&(this._augs={});var n=this._augs,a=n[e];return void 0!==a?new Promise(function(t,e){t(a)}):i.eventSourceToPromise(s.requestAug(e)).then(function(){var t=new g(e);return n[e]=t})},n([e.enumAccessor,e.capability("remoteAugmentations")],m.prototype,"AugmentationState",void 0),n([e.enumAccessor,e.capability("remoteAugmentations")],m.prototype,"AugmentationInstanceState",void 0),m=n([e.capability("remoteAugmentations"),e.scriptingModule("Augmentations"),e.availableIn(e.DocumentType.Effect)],m));function m(){this.AugmentationState=t.AugmentationState,this.AugmentationInstanceState=t.AugmentationInstanceState}return t.Augmentation=g,t.AugmentationInstance=u,t.AugmentationsModule=l,t}({},arfx,params,ReactiveModule);