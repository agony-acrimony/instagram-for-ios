var BlocksModule=function(t,r,i,u){"use strict";var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function e(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function n(t,e,n,o){var r,i=arguments.length,u=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;0<=c;c--)(r=t[c])&&(u=(i<3?r(u):3<i?r(e,n,u):r(e,n))||u);return 3<i&&u&&Object.defineProperty(e,n,u),u}var c=r.getNativeModule("Blocks");function a(t){return t&&t.toVec4?t.toVec4():void 0}var p=(l.prototype.instantiate=function(n,o){void 0===o&&(o={});var t=Promise.resolve("");return r.version.hasCapability("blocksDownloadable")&&(t=this.download(n)),t.then(function(){var t,e=null!=(t=o["name"])?t:r.version.hasChange(1276629687)?"dynamicBlock":"";return""==e&&(e="dynamicObject"),u.eventSourceToPromise(c.instantiate(n,e)).then(function(t){var n=i.getSceneObject(t);try{i.applySceneObjectInitialState(n,o)}catch(e){return r.getModule("Scene").destroy(n).then(function(t){return Promise.reject(e)})}return n})})},l.prototype.getInputs=function(){return void 0===this._inputs&&(this._inputs=new S),this._inputs},l.prototype.getOuptuts=function(){return void 0===this._outputs&&(this._outputs=new m),this._outputs},l.prototype.download=function(t){return u.eventSourceToPromise(c.download(t))},n([r.internal],l.prototype,"instantiate",null),n([r.internal],l.prototype,"getInputs",null),n([r.internal],l.prototype,"getOuptuts",null),n([r.internal],l.prototype,"download",null),l);function l(){}var s,y=(e(f,s=p),f.prototype.instantiate=function(t,e){return void 0===e&&(e={}),s.prototype.instantiate.call(this,t,e)},Object.defineProperty(f.prototype,"inputs",{get:function(){return s.prototype.getInputs.call(this)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"outputs",{get:function(){return s.prototype.getOuptuts.call(this)},enumerable:!0,configurable:!0}),f.prototype.download=function(t){return s.prototype.download.call(this,t)},n([r.introducedBy(352065578),r.capability("scriptingDynamicInstantiation"),r.availableIn(r.DocumentType.Any)],f.prototype,"instantiate",null),n([r.introducedBy(263086233),r.capability("blocksScripting"),r.availableIn(r.DocumentType.SubEffect)],f.prototype,"inputs",null),n([r.introducedBy(263086233),r.capability("blocksScripting"),r.availableIn(r.DocumentType.SubEffect)],f.prototype,"outputs",null),n([r.introducedBy(2901246800),r.capability("blocksDownloadable")],f.prototype,"download",null),f=n([r.scriptingModule("Blocks"),r.availableIn(r.DocumentType.Any),r.capability("blocks"),r.capability("scriptingDynamicInstantiation"),r.introducedBy(352065578)],f));function f(){return null!==s&&s.apply(this,arguments)||this}var g,b=(e(d,g=p),d.prototype.instantiate=function(t,e){return void 0===e&&(e={}),g.prototype.instantiate.call(this,t,e)},Object.defineProperty(d.prototype,"inputs",{get:function(){return g.prototype.getInputs.call(this)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"outputs",{get:function(){return g.prototype.getOuptuts.call(this)},enumerable:!0,configurable:!0}),d.prototype.download=function(t){return g.prototype.download.call(this,t)},n([r.introducedBy(352065578),r.capability("scriptingDynamicInstantiation"),r.availableIn(r.DocumentType.Any)],d.prototype,"instantiate",null),n([r.introducedBy(263086233),r.capability("blocksScripting"),r.availableIn(r.DocumentType.SubEffect)],d.prototype,"inputs",null),n([r.introducedBy(263086233),r.capability("blocksScripting"),r.availableIn(r.DocumentType.SubEffect)],d.prototype,"outputs",null),n([r.introducedBy(2901246800),r.capability("blocksDownloadable")],d.prototype,"download",null),d=n([r.scriptingModule("Blocks"),r.availableIn(r.DocumentType.Any),r.capability("blocks"),r.capability("blocksScripting"),r.introducedBy(263086233)],d));function d(){return null!==g&&g.apply(this,arguments)||this}var S=(v.prototype.getBoolean=function(t){return u.eventSourceToPromise(c.getInput(t,0)).then(function(t){return new u.BoolSignal(t)})},v.prototype.getScalar=function(t){return u.eventSourceToPromise(c.getInput(t,1)).then(function(t){return new u.ScalarSignal(t)})},v.prototype.getString=function(t){return u.eventSourceToPromise(c.getInput(t,2)).then(function(t){return new u.StringSignal(t)})},v.prototype.getPoint=function(t){return u.eventSourceToPromise(c.getInput(t,3)).then(function(t){return new u.PointSignal(t)})},v.prototype.getVector=function(t){return u.eventSourceToPromise(c.getInput(t,4)).then(function(t){return new u.VectorSignal(t)})},v.prototype.getColor=function(t){return u.eventSourceToPromise(c.getInput(t,5)).then(function(t){return u.rgbaFromVec4(new u.Point4DSignal(t))})},v.prototype.getPoint2D=function(t){return u.eventSourceToPromise(c.getInput(t,6)).then(function(t){return new u.Point2DSignal(t)})},v.prototype.getShader=function(t){return u.eventSourceToPromise(c.getInput(t,7)).then(function(t){return new u.ShaderSignal(t)})},v.prototype.getPulse=function(t){return u.eventSourceToPromise(c.getInput(t,8))},v.prototype.getBooleanOrFallback=function(t,e){return new u.BoolSignal(c.getInputOrFallback(t,0,u.ref(e)))},v.prototype.getScalarOrFallback=function(t,e){return new u.ScalarSignal(c.getInputOrFallback(t,1,u.ref(e)))},v.prototype.getStringOrFallback=function(t,e){return new u.StringSignal(c.getInputOrFallback(t,2,u.ref(e)))},v.prototype.getPointOrFallback=function(t,e){return new u.PointSignal(c.getInputOrFallback(t,3,u.ref(e)))},v.prototype.getVectorOrFallback=function(t,e){return new u.VectorSignal(c.getInputOrFallback(t,4,u.ref(e)))},v.prototype.getColorOrFallback=function(t,e){return u.rgbaFromVec4(new u.Point4DSignal(c.getInputOrFallback(t,5,u.ref(a(e)))))},v.prototype.getPoint2DOrFallback=function(t,e){return new u.Point2DSignal(c.getInputOrFallback(t,6,u.ref(e)))},v.prototype.getShaderOrFallback=function(t,e){return new u.ShaderSignal(c.getInputOrFallback(t,7,u.ref(e)))},v.prototype.getPulseOrFallback=function(t,e){return new u.EventSource(c.getInputOrFallback(t,8,u.ref(e)))},v=n([r.introducedBy(263086233),r.capability("blocksScripting"),r.availableIn(r.DocumentType.SubEffect)],v));function v(){}var m=(O.prototype.setBoolean=function(t,e){return u.eventSourceToPromise(c.setOutput(t,0,u.ref(e)))},O.prototype.setScalar=function(t,e){return u.eventSourceToPromise(c.setOutput(t,1,u.ref(e)))},O.prototype.setString=function(t,e){return u.eventSourceToPromise(c.setOutput(t,2,u.ref(e)))},O.prototype.setPoint=function(t,e){return u.eventSourceToPromise(c.setOutput(t,3,u.ref(e)))},O.prototype.setVector=function(t,e){return u.eventSourceToPromise(c.setOutput(t,4,u.ref(e)))},O.prototype.setColor=function(t,e){return u.eventSourceToPromise(c.setOutput(t,5,u.ref(a(e))))},O.prototype.setPoint2D=function(t,e){return u.eventSourceToPromise(c.setOutput(t,6,u.ref(e)))},O.prototype.setShader=function(t,e){return u.eventSourceToPromise(c.setOutput(t,7,u.ref(e)))},O.prototype.setPulse=function(t,e){return u.eventSourceToPromise(c.setOutput(t,8,u.ref(e)))},O=n([r.introducedBy(263086233),r.capability("blocksScripting"),r.availableIn(r.DocumentType.SubEffect)],O));function O(){}return t.BlocksModuleForBlocksScriptingIo=b,t.BlocksModuleForDynamicInstantiation=y,t}({},arfx,SceneModule,ReactiveModule);