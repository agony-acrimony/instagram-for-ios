var ReactiveModule=function(e,o){"use strict";var t,r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function n(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t,n,r){var o,i=arguments.length,u=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(u=(i<3?o(u):3<i?o(t,n,u):o(t,n))||u);return 3<i&&u&&Object.defineProperty(t,n,u),u}(t=e.AntiderivativeOverflowBehaviour||(e.AntiderivativeOverflowBehaviour={}))["CLAMP"]="CLAMP",t["WRAP"]="WRAP";var u={CLAMP:0,WRAP:1},a=(e.AntiderivativeOverflowBehaviour.CLAMP,e.AntiderivativeOverflowBehaviour.WRAP,p.prototype.valueOf=function(){throw"valueOf() called on a Signal. This probably means that you are trying to perform an arithmetic operation on a signal like +, -, *, etc. Use functions .add, .sub(), etc on the signal instead or .subscribeWithSnapshot() on an EventSource to get the signal's current value on a callback."},i([o.internal],p,"_signalType",void 0),p);function p(){}var l,c=(n(s,l=a),i([o.internal,o.nonenumerable],s.prototype,"_ref",void 0),s=i([o.internal],s));function s(e){var t=l.call(this)||this;return t._ref=e,t}function f(e){var t;return null!=(t=null===e||void 0===e?void 0:e._ref)?t:e}var y=o.getNativeModule("Reactive"),h=(Object.defineProperty(g.prototype,"length",{get:function(){return this._count},enumerable:!0,configurable:!0}),g.prototype.at=function(e){if(e<0)throw"Invalid index '"+e.toString()+"'!";if(e>=this._count)throw"This history object only tracks "+this._count+" frames!";return this._signalFactory(this._tracker.at(e))},g.prototype.frame=function(e){if(0<=e)throw"History can only reference past! Please use negative indexing starting with -1!";if(e<-this._count)throw"This history object only tracks"+this._count+" frames!";return this._signalFactory(this._tracker.at(-e-1))},i([o.nonenumerable],g.prototype,"_count",void 0),i([o.nonenumerable],g.prototype,"_tracker",void 0),i([o.nonenumerable],g.prototype,"_signalFactory",void 0),g);function g(e,t,n,r){this._count=t<0?-t:t,this._tracker=y.signalHistory(e,this._count,null!=n?n:[]),this._signalFactory=null!=r?r:function(e){return e}}var b=(Object.defineProperty(d.prototype,"length",{get:function(){return 0},enumerable:!0,configurable:!0}),d.prototype.at=function(e){throw"EventSourceHistory is a fake."},d.prototype.frame=function(e){throw"EventSourceHistory is a fake."},d);function d(){}function w(e,t,n,r){return o.createProxy(new h(f(e),t,n,r),{get:function(e,t){var n=Number(t);return Number.isFinite(n)?e.at(n<0?-n-1:n):e[t]},set:function(){throw"This object is read-only!"}})}function m(e){return"function"==typeof e.subscribe}function v(e){var t=y.createEventSource();return e.subscribe(function(e){y.fireEvent(t.emitter,e)}),t.source}var _=(S.prototype.notify=function(t){this.arr.forEach(function(e){e&&e(t)})},S.prototype.add=function(e){for(var t=0;t<this.arr.length;++t)if(null==this.arr[t])return this.arr[t]=e,t;return this.arr.push(e),this.arr.length-1},S.prototype.remove=function(e){this.arr[e]=null},S);function S(){this.arr=[]}var P=(T.prototype.subscribe=function(e){var t=this.listeners.add(e),n=this;return{unsubscribe:function(){n.listeners.remove(t)}}},T.prototype.notify=function(e){this.listeners.notify(e)},T=i([o.internal],T));function T(){this.listeners=new _}var O=(V.prototype.unsubscribe=function(){this._sub.unsubscribe()},i([o.nonenumerable],V.prototype,"_sub",void 0),V);function V(e){this._sub=e.unsubscribe?e:{unsubscribe:function(){y.unsubscribe(e)}}}var B=(j.prototype.map=function(e){return new F(this,e)},j);function j(){}var x,L=(n(A,x=B),A.prototype.subscribe=function(e){return this.source.subscribe(e)},A.prototype.getNativeRef=function(){return v(this.source)},A);function A(e){var t=x.call(this)||this;return t.source=e,t}var q,R=(n(E,q=B),E.prototype.subscribe=function(e){var t=y.subscribe(this.ref,e);return{unsubscribe:function(){y.unsubscribe(t)}}},E.prototype.getNativeRef=function(){return this.ref},E);function E(e){var t=q.call(this)||this;return t.ref=e,t}var k,F=(n(M,k=B),M.prototype.subscribe=function(n){var r=this;return this.source.subscribe(function(e){var t=r.mapFn(e);void 0!==t&&n(t)})},M.prototype.getNativeRef=function(){return y.mapEvents(this.source.getNativeRef(),this.mapFn)},M.prototype.map=function(n){var r=this;return new M(this.source,function(e){var t=r.mapFn(e);return void 0===t?t:n(t)})},M);function M(e,t){var n=k.call(this)||this;return n.source=e,n.mapFn=t,n}var z,H=(n(N,z=a),Object.defineProperty(N.prototype,"_ref",{get:function(){var e;return null!=(e=this._cachedRef)?e:this._cachedRef=this._impl.getNativeRef()},enumerable:!0,configurable:!0}),N.prototype.subscribe=function(e){return new O(this._impl.subscribe(e))},N.prototype.subscribeOnNext=function(e){return this.subscribe(e)},N.prototype.subscribeWithSnapshot=function(e,t){return new O(y.subscribeWithSnapshot(this._ref,o.utils.mapObjectValues(e,f),t))},N.prototype.select=function(t){return C(this,function(e){return e[t]})},N.prototype.take=function(e){return new N(y.take(this._ref,e))},N.prototype.skip=function(e){return new N(y.skip(this._ref,e))},N.prototype.merge=function(e){return new N(y.merge(this._ref,f(e)))},N.prototype.holdAsScalar=function(){return new $(y.scalarEventToSignal(this._ref))},N.prototype.holdAsString=function(){return new Y(y.stringEventToSignal(this._ref))},N.prototype.toggle=function(e){return new G(y.eventToToggleSignal(this._ref,null!=e&&e))},N._signalType=2,i([o.internal,o.nonenumerable],N.prototype,"_impl",void 0),i([o.nonenumerable],N.prototype,"_cachedRef",void 0),i([o.internal,o.nonenumerable],N.prototype,"_ref",null),i([o.deprecatedAndRemovedBy(3249563720,1376857128,"Use EventSource.subscribe().")],N.prototype,"subscribeOnNext",null),i([o.capability("internalScriptingEventStream")],N.prototype,"merge",null),i([o.capability("internalScriptingEventStream")],N.prototype,"holdAsScalar",null),i([o.capability("internalScriptingEventStream")],N.prototype,"holdAsString",null),i([o.capability("internalScriptingEventStream")],N.prototype,"toggle",null),i([o.internal],N,"_signalType",void 0),N);function N(e){var t=z.call(this)||this;return e instanceof B?t._impl=e:m(e)?t._impl=new L(e):t._impl=new R(e),t}function C(e,t){return m(e)?new H(e instanceof H?e._impl.map(t):new L(e).map(t)):new H(y.mapEvents(f(e),t))}var I,D,W=o.getNativeModule("VisualScripting"),G=(n(U,I=c),(D=U).prototype.monitor=function(e){var t;return new H(y.monitorBool(this._ref,null!=(t=null==e?void 0:e.fireOnInitialValue)&&t,null))},U.prototype.delay=function(){return new D(y.delayBool(this._ref))},U.prototype.onOn=function(e){var t;return new H(y.monitorBool(this._ref,null!=(t=null==e?void 0:e.fireOnInitialValue)&&t,!0))},U.prototype.onOff=function(e){var t;return new H(y.monitorBool(this._ref,null!=(t=null==e?void 0:e.fireOnInitialValue)&&t,!1))},Object.defineProperty(U.prototype,"lastValue",{get:function(){return y.getLastValueBool(this._ref)},enumerable:!0,configurable:!0}),U.prototype.eq=function(e){return new D(y.eq(this._ref,f(e)))},U.prototype.ne=function(e){return new D(y.not(y.eq(this._ref,f(e))))},U.prototype.not=function(){return new D(y.not(this._ref))},U.prototype.xor=function(e){return this.ne(e)},U.prototype.pin=function(){return new D(y.pinBool(this._ref))},U.prototype.pinLastValue=function(){return y.getLastValueBool(this._ref)},U.prototype.history=function(e,t){return w(this,e,null!=t?t:[],function(e){return new D(e)})},U.prototype.or=function(e){return new D(W.invokeComponentAction("builtin.binaryBoolOrOperator",0,[this._ref,f(e)],{}))},U.prototype.and=function(e){return new D(W.invokeComponentAction("builtin.binaryBoolAndOperator",0,[this._ref,f(e)],{}))},U.prototype.ifThenElse=function(e,t){return nt(tt(e),W.invokeComponentAction("builtin.IfThenElseOperator",0,[this._ref,f(e),f(t)],{}))},U._signalType=0,i([o.capability("internalScriptingDelay")],U.prototype,"delay",null),i([o.deprecatedAndRemovedBy(3623664e3,3538561716,"Please use `pinLastValue()` instead to receive a `ConstSignal` as a replacement for `lastValue`")],U.prototype,"lastValue",null),i([o.internal],U,"_signalType",void 0),U=D=i([o.extensible],U));function U(){return null!==I&&I.apply(this,arguments)||this}var Q,X,Y=(n(Z,Q=c),X=Z,Object.defineProperty(Z.prototype,"lastValue",{get:function(){return y.getLastValueString(this._ref)},enumerable:!0,configurable:!0}),Z.prototype.monitor=function(e){var t;return new H(y.monitorString(this._ref,null!=(t=null==e?void 0:e.fireOnInitialValue)&&t))},Z.prototype.delay=function(){return new X(y.delayString(this._ref))},Z.prototype.pin=function(){return new X(y.pinString(this._ref))},Z.prototype.pinLastValue=function(){return y.getLastValueString(this._ref)},Z.prototype.eq=function(e){return new G(y.eq(this._ref,f(e)))},Z.prototype.ne=function(e){return new G(y.not(y.eq(this._ref,f(e))))},Z.prototype.concat=function(e){return new X(y.concat(this._ref,f(e)))},Z.prototype.history=function(e,t){return w(this,e,null!=t?t:[],function(e){return new X(e)})},Z._signalType=10,i([o.deprecatedAndRemovedBy(3623664e3,3538561716,"Please use `pinLastValue()` instead to receive a `ConstSignal` as a replacement for `lastValue`")],Z.prototype,"lastValue",null),i([o.capability("internalScriptingDelay")],Z.prototype,"delay",null),i([o.internal],Z,"_signalType",void 0),Z=X=i([o.extensible],Z));function Z(){return null!==Q&&Q.apply(this,arguments)||this}var J,K,$=(n(ee,J=c),(K=ee).prototype.monitor=function(e){var t;return new H(y.monitorScalar(this._ref,null!=(t=null==e?void 0:e.fireOnInitialValue)&&t))},ee.prototype.delay=function(){return new K(y.delayScalar(this._ref))},Object.defineProperty(ee.prototype,"lastValue",{get:function(){return y.getLastValueScalar(this._ref)},enumerable:!0,configurable:!0}),ee.prototype.lt=function(e){return new G(y.lt(this._ref,f(e)))},ee.prototype.gt=function(e){return new G(y.gt(this._ref,f(e)))},ee.prototype.le=function(e){return new G(y.le(this._ref,f(e)))},ee.prototype.ge=function(e){return new G(y.ge(this._ref,f(e)))},ee.prototype.eq=function(e){return new G(y.eq(this._ref,f(e)))},ee.prototype.ne=function(e){return new G(y.not(y.eq(this._ref,f(e))))},ee.prototype.pin=function(){return new K(y.pinScalar(this._ref))},ee.prototype.pinLastValue=function(){return y.getLastValueScalar(this._ref)},ee.prototype.trigger=function(e){return new H(y.trigger(this._ref,e))},ee.prototype.multiTrigger=function(e){return new H(y.multiTrigger(this._ref,e))},ee.prototype.schmittTrigger=function(e){var t;if(e.low>e.high)throw"Upper bound value must be greater or equal than lower bound in `ScalarSignal.shmittTrigger`.";return new G(y.schmittTrigger(this._ref,e.low,e.high,null!=(t=e.initialValue)&&t))},ee.prototype.interval=function(e){return new H(y.interval(this._ref,e))},ee.prototype.toString=function(){return new Y(y.toString(this._ref))},ee.prototype.format=function(e){return new Y(y.format(this._ref,e))},ee.prototype.expSmooth=function(e){return new K(y.expSmooth(this._ref,e))},ee.prototype.history=function(e,t){return w(this,e,null!=t?t:[],function(e){return new K(e)})},ee._signalType=9,i([o.capability("internalScriptingDelay")],ee.prototype,"delay",null),i([o.deprecatedAndRemovedBy(3623664e3,3538561716,"Please use `pinLastValue()` instead to receive a `ConstSignal` as a replacement for `lastValue`")],ee.prototype,"lastValue",null),i([o.internal],ee,"_signalType",void 0),ee=K=i([o.extensible],ee));function ee(){return null!==J&&J.apply(this,arguments)||this}function te(e,t,n,r){return o.getModule("Reactive").pack4(e,t,n,r)}function ne(e){return"number"==typeof e?new $(y.scalarVal(e)):e}function re(e){return se(y.hsvaToRgba(f(e._components[0]),f(e._components[1]),f(e._components[2]),f(e._components[3])))}function oe(){}var ie,ue=(n(ae,ie=oe),ae.prototype.toHSVA=function(){var e=y.rgbaToHsva(f(this.red),f(this.green),f(this.blue),f(this.alpha));return new le(new $(e[0]),new $(e[1]),new $(e[2]),new $(e[3]))},ae.prototype.toVec4=function(){return te(this.red,this.green,this.blue,this.alpha)},ae.prototype.pinLastValue=function(){return se([y.pinLastValueSignal(f(this.red)),y.pinLastValueSignal(f(this.green)),y.pinLastValueSignal(f(this.blue)),y.pinLastValueSignal(f(this.alpha))])},i([o.introducedBy(2794176954)],ae.prototype,"toHSVA",null),i([o.introducedBy(2573051416)],ae.prototype,"toVec4",null),i([o.introducedBy(1490585595)],ae.prototype,"pinLastValue",null),ae);function ae(e,t,n,r){var o=ie.call(this)||this;return o.red=ne(e),o.green=ne(t),o.blue=ne(n),o.alpha=ne(r),o}var pe,le=(n(ce,pe=oe),Object.defineProperty(ce.prototype,"hue",{get:function(){return this._components[0]},enumerable:!0,configurable:!0}),Object.defineProperty(ce.prototype,"saturation",{get:function(){return this._components[1]},enumerable:!0,configurable:!0}),Object.defineProperty(ce.prototype,"brightness",{get:function(){return this._components[2]},enumerable:!0,configurable:!0}),Object.defineProperty(ce.prototype,"alpha",{get:function(){return this._components[3]},enumerable:!0,configurable:!0}),ce.prototype.toRGBA=function(){return re(this)},ce.prototype.toVec4=function(){return te(this.hue,this.saturation,this.brightness,this.alpha)},ce.prototype.pinLastValue=function(){return new ce(new $(y.pinLastValueSignal(f(this.hue))),new $(y.pinLastValueSignal(f(this.saturation))),new $(y.pinLastValueSignal(f(this.brightness))),new $(y.pinLastValueSignal(f(this.alpha))))},i([o.internal,o.nonenumerable],ce.prototype,"_components",void 0),i([o.introducedBy(259760923)],ce.prototype,"hue",null),i([o.introducedBy(259760923)],ce.prototype,"saturation",null),i([o.introducedBy(259760923)],ce.prototype,"brightness",null),i([o.introducedBy(259760923)],ce.prototype,"alpha",null),i([o.introducedBy(2794176954)],ce.prototype,"toRGBA",null),i([o.introducedBy(2573051416)],ce.prototype,"toVec4",null),i([o.introducedBy(1490585595)],ce.prototype,"pinLastValue",null),ce);function ce(e,t,n,r){var o=pe.call(this)||this;return o._components=[ne(e),ne(t),ne(n),ne(r)],o}function se(e){return new ue(new $(e[0]),new $(e[1]),new $(e[2]),new $(e[3]))}function fe(e,t){return new $(y.getVec3Prop(e,t))}function ye(e,t){return new $(y.getPoint3Prop(e,t))}function he(e,t){return new $(y.getPoint4Prop(e,t))}function ge(e,t){return new $(y.getPoint2Prop(e,t))}var be,de,we=(n(me,be=c),de=me,Object.defineProperty(me.prototype,"x",{get:function(){return fe(this._ref,0)},enumerable:!0,configurable:!0}),Object.defineProperty(me.prototype,"y",{get:function(){return fe(this._ref,1)},enumerable:!0,configurable:!0}),Object.defineProperty(me.prototype,"z",{get:function(){return fe(this._ref,2)},enumerable:!0,configurable:!0}),me.prototype.expSmooth=function(e){return new de(y.expSmooth(this._ref,e))},me.prototype.pinLastValue=function(){return new de(y.pinLastValueSignal(this._ref))},me.prototype.history=function(e){return w(this,e,[],function(e){return new de(e)})},me._signalType=12,i([o.introducedBy(3354976242)],me.prototype,"pinLastValue",null),i([o.internal],me,"_signalType",void 0),me=de=i([o.extensible],me));function me(e){var t=be.call(this,e)||this;if(t._ref._signalType&&12!==t._ref._signalType())throw"VectorSignal created with incorrect native ref: "+e._signalType();return t}var ve,_e,Se=(n(Pe,ve=c),_e=Pe,Object.defineProperty(Pe.prototype,"x",{get:function(){return ye(this._ref,0)},enumerable:!0,configurable:!0}),Object.defineProperty(Pe.prototype,"y",{get:function(){return ye(this._ref,1)},enumerable:!0,configurable:!0}),Object.defineProperty(Pe.prototype,"z",{get:function(){return ye(this._ref,2)},enumerable:!0,configurable:!0}),Pe.prototype.expSmooth=function(e){return new _e(y.expSmooth(this._ref,e))},Pe.prototype.pinLastValue=function(){return new _e(y.pinLastValueSignal(this._ref))},Pe.prototype.history=function(e,t){return w(this,e,null!=t?t:[],function(e){return new _e(e)})},Pe._signalType=3,i([o.introducedBy(3354976242)],Pe.prototype,"pinLastValue",null),i([o.internal],Pe,"_signalType",void 0),Pe=_e=i([o.extensible],Pe));function Pe(e){var t=ve.call(this,e)||this;if(t._ref._signalType&&3!==t._ref._signalType())throw"PointSignal created with incorrect native ref: "+e._signalType();return t}var Te,Oe,Ve=(n(Be,Te=c),Oe=Be,Object.defineProperty(Be.prototype,"x",{get:function(){return ge(this._ref,0)},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"width",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"y",{get:function(){return ge(this._ref,1)},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"height",{get:function(){return this.y},enumerable:!0,configurable:!0}),Be.prototype.pinLastValue=function(){return new Oe(y.pinLastValueSignal(this._ref))},Be.prototype.history=function(e,t){return w(this,e,null!=t?t:[],function(e){return new Oe(e)})},Be._signalType=4,i([o.introducedBy(1552626982)],Be.prototype,"pinLastValue",null),i([o.internal],Be,"_signalType",void 0),Be=Oe=i([o.extensible],Be));function Be(){return null!==Te&&Te.apply(this,arguments)||this}var je,xe,Le=(n(Ae,je=c),xe=Ae,Object.defineProperty(Ae.prototype,"x",{get:function(){return he(this._ref,0)},enumerable:!0,configurable:!0}),Object.defineProperty(Ae.prototype,"y",{get:function(){return he(this._ref,1)},enumerable:!0,configurable:!0}),Object.defineProperty(Ae.prototype,"z",{get:function(){return he(this._ref,2)},enumerable:!0,configurable:!0}),Object.defineProperty(Ae.prototype,"w",{get:function(){return he(this._ref,3)},enumerable:!0,configurable:!0}),Object.defineProperty(Ae.prototype,"top",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(Ae.prototype,"left",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(Ae.prototype,"bottom",{get:function(){return this.z},enumerable:!0,configurable:!0}),Object.defineProperty(Ae.prototype,"right",{get:function(){return this.w},enumerable:!0,configurable:!0}),Ae.prototype.toRGBA=function(){return new ue(this.x,this.y,this.z,this.w)},Ae.prototype.toHSVA=function(){return new le(this.x,this.y,this.z,this.w)},Ae.prototype.pinLastValue=function(){return new xe(y.pinLastValueSignal(this._ref))},Ae.prototype.history=function(e){return w(this,e,[],function(e){return new xe(e)})},Ae._signalType=5,i([o.introducedBy(2573051416)],Ae.prototype,"toRGBA",null),i([o.introducedBy(2573051416)],Ae.prototype,"toHSVA",null),i([o.introducedBy(2973845340)],Ae.prototype,"pinLastValue",null),i([o.internal],Ae,"_signalType",void 0),Ae=xe=i([o.extensible],Ae));function Ae(){return null!==je&&je.apply(this,arguments)||this}var qe=function(e,t,n,r){this.w=e,this.x=t,this.y=n,this.z=r};function Re(e,t){return new $(y.getQuaternionProp(e,t))}var Ee,ke=(n(Fe,Ee=c),Object.defineProperty(Fe.prototype,"eulerAngles",{get:function(){return new Se(y.quaternionToEuler(this._ref))},enumerable:!0,configurable:!0}),Object.defineProperty(Fe.prototype,"x",{get:function(){return Re(this._ref,0)},enumerable:!0,configurable:!0}),Object.defineProperty(Fe.prototype,"y",{get:function(){return Re(this._ref,1)},enumerable:!0,configurable:!0}),Object.defineProperty(Fe.prototype,"z",{get:function(){return Re(this._ref,2)},enumerable:!0,configurable:!0}),Object.defineProperty(Fe.prototype,"w",{get:function(){return Re(this._ref,3)},enumerable:!0,configurable:!0}),Fe.prototype.conjugate=function(){return new Fe(y.quaternionSignalConjugate(this._ref))},Fe.prototype.invert=function(){return this.conjugate()},Fe.prototype.angleAxis=function(){return new Le(y.angleAxisSignalFromQuaternion(this._ref))},Fe.prototype.mix=function(e,t){return new Fe(y.quaternionMixSignal(this._ref,f(e),f(t)))},Fe.prototype.slerp=function(e,t){return new Fe(y.quaternionSlerpSignal(this._ref,f(e),f(t)))},Fe.prototype.dot=function(e){return new $(y.quaternionSignalDot(this._ref,f(e)))},Fe.prototype.mul=function(e){return new Fe(y.quaternionMultiplySignal(this._ref,f(e)))},Fe.prototype.angleTo=function(e){return new $(y.angleSignalBetweenQuaternions(this._ref,f(e)))},Fe.prototype.pinLastValue=function(){return new Fe(y.pinLastValueSignal(this._ref))},Fe.prototype.history=function(e,t){return w(this,e,null!=t?t:[],function(e){return new Fe(e)})},Fe._signalType=7,i([o.introducedBy(1804571581)],Fe.prototype,"x",null),i([o.introducedBy(1804571581)],Fe.prototype,"y",null),i([o.introducedBy(1804571581)],Fe.prototype,"z",null),i([o.introducedBy(1804571581)],Fe.prototype,"w",null),i([o.introducedBy(1804571581)],Fe.prototype,"conjugate",null),i([o.introducedBy(1804571581)],Fe.prototype,"invert",null),i([o.introducedBy(1804571581)],Fe.prototype,"angleAxis",null),i([o.introducedBy(1804571581)],Fe.prototype,"mix",null),i([o.introducedBy(1804571581)],Fe.prototype,"slerp",null),i([o.introducedBy(1804571581)],Fe.prototype,"dot",null),i([o.introducedBy(1804571581)],Fe.prototype,"mul",null),i([o.introducedBy(1804571581)],Fe.prototype,"angleTo",null),i([o.introducedBy(3445424517)],Fe.prototype,"pinLastValue",null),i([o.internal],Fe,"_signalType",void 0),Fe);function Fe(){return null!==Ee&&Ee.apply(this,arguments)||this}function Me(e,t){return new $(y.getTransformProp(e,t))}var ze,He,Ne=(n(Ce,ze=c),(He=Ce).prototype.lookAt=function(e,t){return new He(y.lookAt(this._ref,f(e),f(null!=t?t:y.vector(0,1,0))))},Object.defineProperty(Ce.prototype,"x",{get:function(){return Me(this._ref,0)},enumerable:!0,configurable:!0}),Object.defineProperty(Ce.prototype,"y",{get:function(){return Me(this._ref,1)},enumerable:!0,configurable:!0}),Object.defineProperty(Ce.prototype,"z",{get:function(){return Me(this._ref,2)},enumerable:!0,configurable:!0}),Object.defineProperty(Ce.prototype,"rotationX",{get:function(){return Me(this._ref,3)},enumerable:!0,configurable:!0}),Object.defineProperty(Ce.prototype,"rotationY",{get:function(){return Me(this._ref,4)},enumerable:!0,configurable:!0}),Object.defineProperty(Ce.prototype,"rotationZ",{get:function(){return Me(this._ref,5)},enumerable:!0,configurable:!0}),Object.defineProperty(Ce.prototype,"rotation",{get:function(){return new ke(y.getTransformProp(this._ref,10))},enumerable:!0,configurable:!0}),Object.defineProperty(Ce.prototype,"scaleX",{get:function(){return Me(this._ref,6)},enumerable:!0,configurable:!0}),Object.defineProperty(Ce.prototype,"scaleY",{get:function(){return Me(this._ref,7)},enumerable:!0,configurable:!0}),Object.defineProperty(Ce.prototype,"scaleZ",{get:function(){return Me(this._ref,8)},enumerable:!0,configurable:!0}),Object.defineProperty(Ce.prototype,"position",{get:function(){return new Se(y.getTransformProp(this._ref,9))},enumerable:!0,configurable:!0}),Object.defineProperty(Ce.prototype,"scale",{get:function(){return new Se(y.getTransformProp(this._ref,11))},enumerable:!0,configurable:!0}),Ce.prototype.inverse=function(){return new He(y.inverseTransform(this._ref))},Ce.prototype.transpose=function(){return new He(y.transpose(this._ref))},Ce.prototype.applyTo=function(e){return e instanceof Se?(o.deprecationLogger(599074439,2834250929,"TransformSignal.applyTo() with PointSignal argument is deprecated. Please use applyToPoint() instead.").logOnce(),new Se(y.applyTransformToPoint(this._ref,f(e)))):e instanceof we?(o.deprecationLogger(599074439,2834250929,"TransformSignal.applyTo() with VectorSignal argument is deprecated. Please use applyToVector() instead.").logOnce(),new we(y.applyTransformToVector(this._ref,f(e)))):new He(y.applyTransform(this._ref,f(e)))},Ce.prototype.applyToPoint=function(e){return new Se(y.applyTransformToPoint(this._ref,f(e)))},Ce.prototype.applyToVector=function(e){return new we(y.applyTransformToVector(this._ref,f(e)))},Ce.prototype.expSmooth=function(e){return new He(y.expSmooth(this._ref,e))},Ce.prototype.pinLastValue=function(){return new He(y.pinLastValueSignal(this._ref))},Ce.prototype.history=function(e){return w(this,e,[],function(e){return new He(e)})},Ce._signalType=11,i([o.introducedBy(1392726257)],Ce.prototype,"rotation",null),i([o.introducedBy(1789202619)],Ce.prototype,"transpose",null),i([o.introducedBy(599074439)],Ce.prototype,"applyToPoint",null),i([o.introducedBy(599074439)],Ce.prototype,"applyToVector",null),i([o.introducedBy(3348154231)],Ce.prototype,"pinLastValue",null),i([o.internal],Ce,"_signalType",void 0),Ce=He=i([o.extensible],Ce));function Ce(){return null!==ze&&ze.apply(this,arguments)||this}function Ie(e,t){return new $(y.getBBoxProp(e,t))}var De,We=(n(Ge,De=c),Object.defineProperty(Ge.prototype,"x",{get:function(){return Ie(this._ref,0)},enumerable:!0,configurable:!0}),Object.defineProperty(Ge.prototype,"y",{get:function(){return Ie(this._ref,1)},enumerable:!0,configurable:!0}),Object.defineProperty(Ge.prototype,"width",{get:function(){return Ie(this._ref,2)},enumerable:!0,configurable:!0}),Object.defineProperty(Ge.prototype,"height",{get:function(){return Ie(this._ref,3)},enumerable:!0,configurable:!0}),Object.defineProperty(Ge.prototype,"center",{get:function(){return new Ve(y.getBBoxProp(this._ref,4))},enumerable:!0,configurable:!0}),Ge.prototype.history=function(e){return w(this,e,[],function(e){return new Ge(e)})},Ge._signalType=1,i([o.internal],Ge,"_signalType",void 0),Ge);function Ge(){return null!==De&&De.apply(this,arguments)||this}var Ue,Qe,Xe=(n(Ye,Ue=c),Qe=Ye,Object.defineProperty(Ye.prototype,"x",{get:function(){return new Qe(y.getShaderProp(this._ref,0))},enumerable:!0,configurable:!0}),Object.defineProperty(Ye.prototype,"y",{get:function(){return new Qe(y.getShaderProp(this._ref,1))},enumerable:!0,configurable:!0}),Object.defineProperty(Ye.prototype,"z",{get:function(){return new Qe(y.getShaderProp(this._ref,2))},enumerable:!0,configurable:!0}),Object.defineProperty(Ye.prototype,"w",{get:function(){return new Qe(y.getShaderProp(this._ref,3))},enumerable:!0,configurable:!0}),Ye.prototype.history=function(e){return w(this,e,[],function(e){return new Qe(e)})},Ye._signalType=8,i([o.internal],Ye,"_signalType",void 0),Ye=Qe=i([o.extensible],Ye));function Ye(){return null!==Ue&&Ue.apply(this,arguments)||this}var Ze,Je=(n(Ke,Ze=c),Ke.prototype.history=function(e){return w(this,e,[],function(e){return new Ke(e)})},Ke._signalType=6,i([o.internal],Ke,"_signalType",void 0),Ke);function Ke(){return null!==Ze&&Ze.apply(this,arguments)||this}function $e(e,t){this.x=e,this.y=t}function et(e,t,n){this.x=e,this.y=t,this.z=n}function tt(e){if(null==e)throw"invalid argument to signalType(): "+e;switch(typeof e){case"number":return 9;case"string":return 10;case"boolean":return 0;default:var t=e.constructor;if(null==t._signalType)throw"invalid argument to signalType: missing _signalType prop";return t._signalType}}function nt(e,t){switch(e){case 0:return new G(t);case 1:return new We(t);case 2:return new H(t);case 6:return new Je(t);case 7:return new ke(t);case 9:return new $(t);case 8:return new Xe(t);case 10:return new Y(t);case 11:return new Ne(t);case 3:return new Se(t);case 4:return new Ve(t);case 5:return new Le(t);case 12:return new we(t)}}var rt=(ot.prototype.signalHistory=function(e,t,n){return w(e,t,n)},ot.prototype.lookAt=function(e,t,n){return new Ne(y.lookAt(f(e),f(t),f(null!=n?n:this.vector(0,1,0))))},ot.prototype.once=function(){return new H(y.once())},ot.prototype.monitorMany=function(e,t){var n;return new H(y.monitorMany(o.utils.mapObjectValues(e,f),null!=(n=null==t?void 0:t.fireOnInitialValue)&&n))},ot.prototype.rotation=function(e,t,n,r){return new qe(e,t,n,r)},ot.prototype.val=function(e){switch(typeof e){case"number":return new $(y.scalarVal(e));case"string":return new Y(y.stringVal(e));case"boolean":return new G(y.boolVal(e));default:throw"Unexpected argument to Reactive::val"}},ot.prototype.sumList=function(e){return new $(y.sumList(e.map(f)))},ot.prototype.mulList=function(e){return new $(y.mulList(e.map(f)))},ot.prototype.schmittTrigger=function(e,t){var n;if(t.low>t.high)throw"Upper bound value must be greater or equal than lower bound.";return new G(y.schmittTrigger(f(e),t.low,t.high,null!=(n=t.initialValue)&&n))},ot.prototype.not=function(e){return new G(y.not(f(e)))},ot.prototype.andList=function(e){return new G(y.andList(e.map(f)))},ot.prototype.orList=function(e){return new G(y.orList(e.map(f)))},ot.prototype.xor=function(e,t){return new G(y.not(y.eq(f(e),f(t))))},ot.prototype.xorList=function(e){return new G(y.xorList(e.map(f)))},ot.prototype.lt=function(e,t){return new G(y.lt(f(e),f(t)))},ot.prototype.gt=function(e,t){return new G(y.gt(f(e),f(t)))},ot.prototype.le=function(e,t){return new G(y.le(f(e),f(t)))},ot.prototype.ge=function(e,t){return new G(y.ge(f(e),f(t)))},ot.prototype.eq=function(e,t){return new G(y.eq(f(e),f(t)))},ot.prototype.ne=function(e,t){return new G(y.not(y.eq(f(e),f(t))))},ot.prototype.switch=function(e,t,n){return new Y(y.switch(f(e),t,n))},ot.prototype.concat=function(e,t){return new Y(y.concat(f(e),f(t)))},ot.prototype.RGBA=function(e,t,n,r){return new ue(e,t,n,r)},ot.prototype.HSVA=function(e,t,n,r){return new le(e,t,n,r)},ot.prototype.point=function(e,t,n){return new Se(y.point(f(e),f(t),f(n)))},ot.prototype.point2d=function(e,t){return new Ve(y.point2d(f(e),f(t)))},ot.prototype.vector=function(e,t,n){return new we(y.vector(f(e),f(t),f(n)))},ot.prototype.scale=function(e,t,n){return new Se(y.point(f(e),f(t),f(n)))},ot.prototype.derivative=function(e){return new $(y.derivative(f(e)))},ot.prototype.antiderivative=function(e,t){return new $(y.antiderivative(f(e),t.min,t.max,t.initialValue,u[t.overflowBehaviour]))},ot.prototype.expSmooth=function(e,t){return e instanceof Ne?new Ne(y.expSmooth(e._ref,t)):new $(y.expSmooth(f(e),t))},ot.prototype.quaternionIdentity=function(){return new ke(y.quaternion(1,0,0,0))},ot.prototype.quaternion=function(e,t,n,r){return new ke(y.quaternion(f(e),f(t),f(n),f(r)))},ot.prototype.quaternionFromEuler=function(e,t,n){return new ke(y.quaternionFromEuler(f(e),f(t),f(n)))},ot.prototype.quaternionFromAngleAxis=function(e,t){return new ke(y.quaternionFromAngleAxis(f(e),f(t)))},ot.prototype.quaternionFromTo=function(e,t){return new ke(y.quaternionFromVectors(f(e),f(t)))},ot.prototype.quaternionLookAt=function(e,t){return new ke(y.quaternionLookAt(f(e),f(null!=t?t:y.vector(0,1,0))))},ot.prototype.merge=function(e,t){return new H(y.merge(f(e),f(t)))},i([o.enumAccessor],ot.prototype,"AntiderivativeOverflowBehaviour",void 0),i([o.removedBy(975597594)],ot.prototype,"lt",null),i([o.removedBy(975597594)],ot.prototype,"gt",null),i([o.removedBy(975597594)],ot.prototype,"le",null),i([o.removedBy(975597594)],ot.prototype,"ge",null),i([o.introducedBy(1804571581)],ot.prototype,"quaternionIdentity",null),i([o.introducedBy(1804571581)],ot.prototype,"quaternion",null),i([o.introducedBy(1804571581)],ot.prototype,"quaternionFromEuler",null),i([o.introducedBy(1804571581)],ot.prototype,"quaternionFromAngleAxis",null),i([o.introducedBy(1804571581)],ot.prototype,"quaternionFromTo",null),i([o.introducedBy(1804571581)],ot.prototype,"quaternionLookAt",null),i([o.capability("internalScriptingEventStream")],ot.prototype,"merge",null),ot=i([o.scriptingModule("Reactive"),o.availableIn(o.DocumentType.Any),o.extensible],ot));function ot(){this.AntiderivativeOverflowBehaviour=e.AntiderivativeOverflowBehaviour}return e.BoolSignal=G,e.BoundingBoxSignal=We,e.ColorSignal=oe,e.EventSource=H,e.EventSourceHistory=b,e.HsvaSignal=le,e.ISignal=a,e.Observable=P,e.Point2D=$e,e.Point2DSignal=Ve,e.Point3D=et,e.Point4DSignal=Le,e.PointSignal=Se,e.PrimitiveOrShaderSignal=Je,e.QuaternionSignal=ke,e.ReactiveModule=rt,e.RgbaSignal=ue,e.Rotation=qe,e.ScalarSignal=$,e.ShaderSignal=Xe,e.SignalHistory=h,e.StringSignal=Y,e.Subscription=O,e.TransformSignal=Ne,e.VectorSignal=we,e.createNativeEventSource=v,e.eventSourceToPromise=function(e){return new Promise(function(n,r){(e instanceof H?e:new H(e)).subscribe(function(e){var t;e.success?n(e.value):r(null!=(t=e.error)?t:"EventSource returned an error")})})},e.getReactiveModule=function(){return o.getModule("Reactive")},e.hsvaFromVec4=function(e){return new le(e.x,e.y,e.z,e.w)},e.mapEventSource=C,e.ref=f,e.rgbaFromBgra=function(e){return se(y.bgraToRgba(f(e)))},e.rgbaFromNative=se,e.rgbaFromVec4=function(e){return new ue(e.x,e.y,e.z,e.w)},e.signal=function(e){if(null==e._signalType)throw"signal: missing _signalType";return nt(e._signalType(),e)},e.signalType=tt,e.toBgrxSignal=function(e){if(e instanceof le)return new $(y.hsvaToBgrx(f(e._components[0]),f(e._components[1]),f(e._components[2]),f(e._components[3])));if(e instanceof ue)return new $(y.rgbaToBgrx(f(e.red),f(e.green),f(e.blue),f(e.alpha)));throw"unexpected color parameter"},e.toRgba=function(e){return e instanceof ue?e:re(e)},e.wrapSignal=nt,e}({},arfx);